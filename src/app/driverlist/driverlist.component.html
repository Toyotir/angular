<!DOCTYPE html>
<h2></h2>
<!--<h2>Drivers</h2>
<button mat-icon-button (click)="refresh()">
        <mat-icon>refresh</mat-icon>
      </button>
 <ul>
    <li *ngFor="let d of drivers">
        {{d.lastname}} - {{d.firstname}} - {{d.birthdate}}

            <button mat-flat-button >Edit</button>
            <button mat-flat-button >Delete</button>

    </li>
</ul>
<button mat-flat-button (click)="openDialog()">Create driver</button>-->
<div>
    <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search driver" #input>
    </mat-form-field>
    <mat-table #tabledriver [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="lastname">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Lastname</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.last_name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="firstname">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Firstname</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.first_name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="username" style="display: none">
            <mat-header-cell *matHeaderCellDef mat-sort-header>username</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.username}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="password" style="display: none">
            <mat-header-cell *matHeaderCellDef mat-sort-header>password</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.password}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="driver.birthdate">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Birthdate</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.driver.birthdate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="driver.adress">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Address</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.driver.adress}} {{dri.driver.addnum}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="driver.locality">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Locality</mat-header-cell>
            <mat-cell *matCellDef="let dri">{{dri.driver.locality}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="option">
            <mat-header-cell *matHeaderCellDef>option
                <button mat-icon-button color="primary" (click)="openDialog()">
                    <mat-icon>add</mat-icon>
                </button>
            </mat-header-cell>
            <mat-cell *matCellDef="let dri">
                <button mat-icon-button color="primary" (click)="editDriver(dri.id,dri.last_name,dri.first_name,
                  dri.username,dri.password,dri.is_staff,dri.driver.birthdate,dri.driver.owner,dri.driver.adress,
                  dri.driver.addnum,dri.driver.locality,dri.driver.licenseExp)" >
                  <mat-icon aria-label="Edit">edit</mat-icon>
                </button>
                <button mat-icon-button color="warn" (click)="delDriver(dri.id,dri.last_name,dri.first_name)">
                  <mat-icon aria-label="Delete">delete</mat-icon>
                </button>
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

        <mat-row *matRowDef="let row; columns: displayedColumns" (click)="onRowClicked(row)"></mat-row>

    </mat-table>
    <mat-paginator  [pageSize]="10" [pageSizeOptions]="[10,20,40]"></mat-paginator>
</div>
<!-- <button (click)="refreshTokenTest()" >refreshTokenTest</button> -->

